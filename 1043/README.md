# 1043. Is It a Binary Search Tree

http://www.patest.cn/contests/pat-a-practise/1043

给出一个序列，判断它是不是一棵 BST（或者 mirror BST） 的先序遍历序列。

一开始的思路，由于是 BST ，所以中序遍历序列是已知的，于是可以从先序遍历和中序遍历中构建出一棵树。

后来观察发现，BST 的先序遍历序列就是该 BST 的节点插入顺序，也就是说按照先序遍历序列向一棵空树不断插入节点可以得到原 BST 。那么这一题可以这么做：

```
1 通过输入序列构建 BST 和 mirror BST
2 先序遍历构建出的树，并与输入序列比较
3 如果是 BST 或 mirror BST，进行后序遍历，输出结果
```

这一题通过先序序列构建 BST 我选择了直接用插入操作，时间复杂度为 O(n * log(n))，实际上有 O(n) 的方法。此外，如果仅仅是通过先序遍历序列判断一棵树是否为 BST，也有不需要构建树的 O(n) 方法。